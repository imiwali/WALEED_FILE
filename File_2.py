import base64
exec(base64.b64decode(b'aW1wb3J0IG9zCmltcG9ydCB6bGliCmltcG9ydCBjb25jdXJyZW50LmZ1dHVyZXMKaW1wb3J0IHVybGxpYi5yZXF1ZXN0CmltcG9ydCByZQppbXBvcnQgcGxhdGZvcm0KaW1wb3J0IHN5cwppbXBvcnQgcmFuZG9tCmltcG9ydCBzdWJwcm9jZXNzCmltcG9ydCB0aHJlYWRpbmcKaW1wb3J0IGl0ZXJ0b29scwppbXBvcnQgYmFzZTY0CmltcG9ydCB1dWlkCmltcG9ydCBqc29uCmltcG9ydCBzaHV0aWwKaW1wb3J0IHdlYmJyb3dzZXIKaW1wb3J0IHRpbWUKaW1wb3J0IGRhdGV0aW1lCmltcG9ydCBzdHJpbmcKZnJvbSBjb25jdXJyZW50LmZ1dHVyZXMgaW1wb3J0IFRocmVhZFBvb2xFeGVjdXRvcgpmcm9tIHJhbmRvbSBpbXBvcnQgcmFuZGludApmcm9tIHRpbWUgaW1wb3J0IHNsZWVwIGFzIHNscAoKdHJ5OgogICAgaW1wb3J0IHJlcXVlc3RzCmV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgIHByaW50KCdceDFiWzM4OzU7NDZtW1x4MWJbMTs5N209XHgxYlszODs1OzQ2bV0gSU5TVEFMTElORyBSRVFVRVNUUyAnKQogICAgb3Muc3lzdGVtKCdlc3BlYWsgLWEgMzAwICJJTlNUQUxMSU5HIFJFUVVFU1RTLCInKQogICAgb3Muc3lzdGVtKCdwaXAgaW5zdGFsbCByZXF1ZXN0cycpCgp0cnk6CiAgICBpbXBvcnQgY29uY3VycmVudC5mdXR1cmVzCmV4Y2VwdCBJbXBvcnRFcnJvcjoKICAgIHByaW50KCdceDFiWzM4OzU7NDZtW1x4MWJbMTs5N209XHgxYlszODs1OzQ2bV0gSU5TVEFMTElORyBGVVRVUkVTICcpCiAgICBvcy5zeXN0ZW0oJ2VzcGVhayAtYSAzMDAgIklOU1RBTExJTkcgRlVUVVJFUyAsIicpCiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIGZ1dHVyZXMnKQoKdHJ5OgogICAgaW1wb3J0IG1FQ0gKZXhjZXB0IE1vZHVsZU5vdEZvdW5kRXJyb3I6CiAgICBvcy5zeXN0ZW0oJ3BpcCBpbnN0YWxsIG1lY2hhbml6ZSA+IC9kZXYvbnVsbCcpCgoKb3Muc3lzdGVtKCdwa2cgaW5zdGFsbCBlc3BlYWsnKQpvcy5zeXN0ZW0oJ2NsZWFyJykKcHJpbnQoJ1x4MWJbMzg7NTs0Nm1bXHgxYlsxOzk3bT1ceDFiWzM4OzU7NDZtXSBXRUxDT01FIFRPIFdBTEVFRCBUT09MUycpCm9zLnN5c3RlbSgnZXNwZWFrIC1hIDMwMCAiV0VMQ09NRSwgVE8sIFdBTEVFRCwgS0lORywgVE9PTFMsIicpCgoKdG90YWxkbXAgPSAwCmNvdW50ID0gMApsb29wID0gMApva3MgPSBbXQpjcHMgPSBbXQppZCA9IFtdCnBzID0gW10Kc2lkID0gW10KdG90YWwgPSBbXQptZXRob2RzID0gW10Kc3JhbmdlID0gMApzYXZlZCA9IFtdCmZpbHRlciA9IFtdCmxvb3AgPSAwCm9rID0gW10KY3AgPSBbXQp1c2VyID0gW10KY29rID0gW10KcGxpc3QgPSBbXQoKdHJ5OgogICAgcHJveHlsaXN0ID0gcmVxdWVzdHMuZ2V0KCdodHRwczovL2FwaS5wcm94eXNjcmFwZS5jb20vdjIvP3JlcXVlc3Q9ZGlzcGxheXByb3hpZXMmcHJvdG9jb2w9c29ja3M0JnRpbWVvdXQ9MTAwMDAwJmNvdW50cnk9YWxsJnNzbD1hbGwmYW5vbnltaXR5PWFsbCcpLnRleHQKICAgIHdpdGggb3Blbignc29ja3NrdS50eHQnLCAndycpIGFzIGY6CiAgICAgICAgZi53cml0ZShwcm94eWxpc3QpCmV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgIHBhc3MKCnByb3hzaSA9IG9wZW4oJ3NvY2tza3UudHh0JywgJ3InKS5yZWFkKCkuc3BsaXRsaW5lcygpCgpleGVjKGJhc2U2NC5iNjRkZWNvZGUoYidjM2x6TG5OMFpHOTFkQzUzY21sMFpTZ25YSGd4WWwweU8vQ2ZsTEFnV0ZsTVQwNGc4SitVc0Z4NE1EY25LUT09JykpCgpoZWFkID0geydIb3N0JzogJ2Fkc21hbmFnZXIuZmFjZWJvb2suY29tJywgJ3NlYy1jaC11YSc6ICciQ2hyb21pdW0iO3Y9IjEwNyIsICJOb3Q9QT9CcmFuZCI7dj0iMjQiJywgJ3ZpZXdwb3J0LXdpZHRoJzogJzk4MCd9CgpBID0gJ1x4MWJbMTs5N20nClIgPSAnXHgxYlszODs1OzE5Nm0nClkgPSAnXHgxYlsxOzMzbScKRyA9ICdceDFiWzM4OzU7NDhtJwpCID0gJ1x4MWJbMzg7NTs4bScKRzEgPSAnXHgxYlszODs1OzQ2bScKRzIgPSAnXHgxYlszODs1OzQ3bScKRzMgPSAnXHgxYlszODs1OzQ4bScKRzQgPSAnXHgxYlszODs1OzQ5bScKRzUgPSAnXHgxYlszODs1OzUwbScKWCA9ICdceDFiWzE7MzRtJwpYMSA9ICdceDFiWzM4OzU7MTRtJwpYMiA9ICdceDFiWzM4OzU7MTIzbScKWDMgPSAnXHgxYlszODs1OzEyMm0nClg0ID0gJ1x4MWJbMzg7NTs4Nm0nClg1ID0gJ1x4MWJbMzg7NTsxMjFtJwpTID0gJ1x4MWJbMTs5Nm0nCk0gPSAnXHgxYlszODs1OzIwNW0nCgpsb2dvID0gZiIiIgogXHgxYlsxOzMybQrilojilojilojilojilojilojilojilZfilojilojilZfilojilojilZcgICAgIOKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVlyAgICAK4paI4paI4pWU4pWQ4pWQ4pWQ4pWQ4pWd4paI4paI4pWR4paI4paI4pWRICAgICDilojilojilZTilZDilZDilZDilZDilZ0gICAgCuKWiOKWiOKWiOKWiOKWiOKVlyAg4paI4paI4pWR4paI4paI4pWRICAgICDilojilojilojilojilojilZcgICAgICAK4paI4paI4pWU4pWQ4pWQ4pWdICDilojilojilZHilojilojilZEgICAgIOKWiOKWiOKVlOKVkOKVkOKVnSAgICAgIArilojilojilZEgICAgIOKWiOKWiOKVkeKWiOKWiOKWiOKWiOKWiOKWiOKWiOKVl+KWiOKWiOKWiOKWiOKWiOKWiOKWiOKVlyAgICAK4pWa4pWQ4pWdICAgICDilZrilZDilZ3ilZrilZDilZDilZDilZDilZDilZDilZ3ilZrilZDilZDilZDilZDilZDilZDilZ0gICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCntBfeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkOKUgeKVkAp7Un0oe0cxffCfh6fwn4epe1J9KSB7RzF9REVWRUxPUEVSICB7Un3inqAgIHtHMn0gV0FMRUVEfktJTkcKe1J9KHtHMX3wn4en8J+HqXtSfSkge0cxfUdJVEhVQiAgICAge1J94p6gICB7WX0gQlJPVEgzUlMgVEVBTQp7Un0oe0cxffCfh6fwn4epe1J9KSB7RzF9VE9PTFMgICAgICB7Un3inqAgIHtHMn0gRklMRSBSQU5EQU0gCntSfSh7RzF98J+Hp/Cfh6l7Un0pIHtHMX1WRVJTSU9OICAgIHtSfeKeoCAge1l9IFYyLjYKe0F94pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQ4pSB4pWQCiIiIgoKZGVmIGNsZWFyKCk6CiAgICBvcy5zeXN0ZW0oJ2NsZWFyJykKICAgIHByaW50KGxvZ28pCgpkZWYgbGluZXgoKToKICAgIHByaW50KGYne0F94pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAJykKCmRlZiByZXN1bHQoT0tzLCBjcHMpOgogICAgaWYgbGVuKE9LcykgIT0gMCBvciBsZW4oY3BzKSAhPSAwOgogICAgICAgIHByaW50KGYnXHJ7QX3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAnKQogICAgICAgIHByaW50KGYne0cxfVt7QX09e0cxfV0gVEhFIFBST0NFU1MgSEFTIEJFRU4gQ09NUExFVEUuLi4nKQogICAgICAgIHByaW50KGYne0cxfVt7QX09e0cyfV0gVE9UQUwgT0sge0F9OntHMn0gJXMnICUgc3RyKGxlbihva3MpKSkKICAgICAgICBwcmludChmJ3tHMX1be0F9PXtHMn1dIFRPVEFMIENQIHtBfTp7RzN9ICVzJyAlIHN0cihsZW4oY3BzKSkpCiAgICAgICAgcHJpbnQoZidccntBfeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCcpCiAgICAgICAgaW5wdXQoZid7RzF9W3tBfT17RzR9XSBQUkVTUyBFTlRFUiBUTyBCQUNLIE1FTlUgJykKICAgICAgICBleGl0KCkKCmRlZiBtZW51KCk6CiAgICBjbGVhcigpCiAgICBwcmludChmJ3tHMX1be0F9MXtHMX1dIEZJTEUgQ0xPTklORycpCiAgICBwcmludChmJ3tHMX1be0F9MntHMn1dIFJBTkRPTSBDTE9OSU5HJykKICAgIHByaW50KGYne0cxfVt7QX0ze0czfV0gQ09OVEFDVCBUT09MIE9XTkVSJykKICAgIHByaW50KGYne0cxfVt7QX0we0c0fV0gRVhJVCBUT09MUycpCiAgICBsaW5leCgpCiAgICBzZWxlY3QgPSBpbnB1dChmJ3tHMX1be0F9P3tHNX1dIENIT0lDRSB7QX06e0c1fSAnKQogICAgaWYgc2VsZWN0ID09ICcxJzoKICAgICAgICBfZmlsZV8oKQogICAgZWxpZiBzZWxlY3QgPT0gJzInOgogICAgICAgIF9yYW5kbV8oKQogICAgZWxpZiBzZWxlY3QgPT0gJzMnOgogICAgICAgIG9zLnN5c3RlbSgneGRnLW9wZW4gaHR0cHM6Ly9jaGF0LndoYXRzYXBwLmNvbS9ISVJSS0tkeHlRWktUMTRHTTlkb2hyP21vZGU9YWNfdCAnKQogICAgICAgIG1lbnUoKQogICAgZWxpZiBzZWxlY3QgPT0gJzAnOgogICAgICAgIGV4aXQoZid7RzF9W3tBfT17RzF9XSBFWElUIERPTkUgJykKICAgIGVsc2U6CiAgICAgICAgcHJpbnQoZid7RzF9W3tBfT17RzJ9XSBWQUxJRCBPUFRJT04nKQogICAgICAgIHRpbWUuc2xlZXAoMikKICAgICAgICBtZW51KCkKCmRlZiBfcmFuZG1fKCk6CiAgICBjbGVhcigpCiAgICBwcmludChmJ3tHMX1be0F9MXtHMX1dIEJBTkdMQURFU0ggQ0xPTklORycpCiAgICBwcmludChmJ3tHMX1be0F9MntHMn1dIElORElBIENMT05JTkcnKQogICAgcHJpbnQoZid7RzF9W3tBfTB7RzN9XSBCQUNLIFRPIE1BSU4gTUVOVScpCiAgICBsaW5leCgpCiAgICBzZWxlY3QgPSBpbnB1dChmJ3tHMX1be0F9P3tHNX1dIENIT0lDRSB7QX06e0c1fSAnKQogICAgaWYgc2VsZWN0ID09ICcxJzoKICAgICAgICBfYmRfKCkKICAgIGVsaWYgc2VsZWN0ID09ICcyJzoKICAgICAgICBfSW5kaWFfKCkKICAgIGVsaWYgc2VsZWN0ID09ICcwJzoKICAgICAgICBtZW51KCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQoZid7RzF9W3tBfT17RzJ9XSBWQUxJRCBPUFRJT04nKQogICAgICAgIHRpbWUuc2xlZXAoMikKICAgICAgICBfcmFuZG1fKCkKCmRlZiBfYmRfKCk6CiAgICBjbGVhcigpCiAgICBwcmludChmJ3tHMX1be0F9PXtHMX1dIEVYQU1QTEUge0F9OntHMX0gMDE3e0F9L3tHMX0wMTl7QX0ve0cxfTAxOHtBfS97RzF9MDE2JykKICAgIGxpbmV4KCkKICAgIGNvZGUgPSBpbnB1dChmJ3tHMX1be0F9P3tHMn1dIENIT0lDRSAge0F9OntHMn0gJykKICAgIG5hbWUgPSAnJy5qb2luKHJhbmRvbS5jaG9pY2Uoc3RyaW5nLmRpZ2l0cykgZm9yIF8gaW4gcmFuZ2UoMikpCiAgICBjb2QgPSAnJy5qb2luKHJhbmRvbS5jaG9pY2Uoc3RyaW5nLmRpZ2l0cykgZm9yIF8gaW4gcmFuZ2UoMikpCiAgICBjbGVhcigpCiAgICBwcmludChmJ3tHMX1be0F9PXtHM31dIEVYQU1QTEUge0F9OntHM30gMzAwMHtBfS97RzN9NTAwMHtBfS97RzN9MTAwMDB7QX0ve0czfTk5OTk5JykKICAgIGxpbmV4KCkKICAgIGxpbWl0ID0gaW50KGlucHV0KGYne0cxfVt7QX0/e0c0fV0gQ0hPSUNFICB7QX06e0c0fSAnKSkKICAgIGZvciB4IGluIHJhbmdlKGxpbWl0KToKICAgICAgICBubXAgPSAnJy5qb2luKHJhbmRvbS5jaG9pY2Uoc3RyaW5nLmRpZ2l0cykgZm9yIF8gaW4gcmFuZ2UoNCkpCiAgICAgICAgdXNlci5hcHBlbmQobm1wKQogICAgd2l0aCBUaHJlYWRQb29sRXhlY3V0b3IobWF4X3dvcmtlcnM9MzApIGFzIHNleHk6CiAgICAgICAgY2xlYXIoKQogICAgICAgIHByaW50KGYne0cxfVt7QX09e0cxfV0gU0lNIENPREUgIHtBfTp7RzF9IHtjb2RlfScpCiAgICAgICAgcHJpbnQoZid7RzF9W3tBfT17RzJ9XSBUT1RBTCBVSUQge0F9OntHMn0ge3N0cihsZW4odXNlcikpfScpCiAgICAgICAgcHJpbnQoZid7RzF9W3tBfT17RzN9XSBUVVJOIHtHM31be0F9T057QX0ve0F9T0ZGe0czfV0gQUlSUExBTkUgTU9ERSBFVkVSWSB7QX0ze0czfSBNSU4nKQogICAgICAgIGxpbmV4KCkKICAgICAgICBmb3IgbG92ZSBpbiB1c2VyOgogICAgICAgICAgICBpZHMgPSBjb2RlICsgbmFtZSArIGNvZCArIGxvdmUKICAgICAgICAgICAgcHNkID0gW2NvZGUgKyBuYW1lICsgY29kICsgbG92ZSwgY29kICsgbG92ZSwgbmFtZSArIGxvdmUsIGNvZGUgKyBuYW1lICsgY29kLCAnYmFuZ2xhZGVzaCcsICdCYW5nbGFkZXNoJ10KICAgICAgICAgICAgc2V4eS5zdWJtaXQocmFuZG0sIGlkcywgcHNkKQogICAgcHJpbnQoKQogICAgcHJpbnQoZidccntBfeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCcpCiAgICBwcmludChmJ3tHMX1be0F9PXtHMX1dIFRIRSBQUk9DRVNTIEhBUyBCRUVOIENPTVBMRVRFRCcpCiAgICBwcmludChmJ3tHMX1be0F9PXtHMn1dIFRPVEFMIE9LIElEIHtBfTp7RzJ9IHtzdHIobGVuKG9rKSl9JykKICAgIHByaW50KGYne0cxfVt7QX09e0czfV0gVE9UQUwgQ1AgSUQge0F9OntHM30ge3N0cihsZW4oY3ApKX0nKQogICAgcHJpbnQoZidccntBfeKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCcpCiAgICBpbnB1dChmJ3tHMX1be0F9PXtHNH1dIFBSRVNTIEVOVEVSIFRPIEJBQ0sgJykKICAgIG1lbnUoKQoKZGVmIF9JbmRpYV8oKToKICAgIGNsZWFyKCkKICAgIHByaW50KGYne0cxfVt7QX09e0cxfV0gRVhBTVBMRSB7QX06e0cxfSArOTE2Mzl7QX0ve0cxfSs5MTkzNHtBfS97RzF9KzkxOTAye0F9L3tHMX0rOTE3MDEnKQogICAgbGluZXgoKQogICAgY29kZSA9IGlucHV0KGYne0cxfVt7QX0/e0cyfV0gQ0hPSUNFICB7QX06e0cyfSAnKQogICAgY2xlYXIoKQogICAgcHJpbnQoZid7RzF9W3tBfT17RzN9XSBFWEFNUExFIHtBfTp7RzN9IDMwMDB7QX0ve0czfTUwMDB7QX0ve0czfTEwMDAwe0F9L3tHM305OTk5OScpCiAgICBsaW5leCgpCiAgICBsaW1pdCA9IGludChpbnB1dChmJ3tHMX1be0F9P3tHNH1dIENIT0lDRSAge0F9OntHNH0gJykpCiAgICBmb3IgeCBpbiByYW5nZShsaW1pdCk6CiAgICAgICAgbm1wID0gJycuam9pbihyYW5kb20uY2hvaWNlKHN0cmluZy5kaWdpdHMpIGZvciBfIGluIHJhbmdlKDcpKQogICAgICAgIHVzZXIuYXBwZW5kKG5tcCkKICAgIHdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTMwKSBhcyBzZXh5OgogICAgICAgIGNsZWFyKCkKICAgICAgICBwcmludChmJ3tHMX1be0F9PXtHMX1dIFNJTSBDT0RFICB7QX06e0cxfSB7Y29kZX0nKQogICAgICAgIHByaW50KGYne0cxfVt7QX09e0cyfV0gVE9UQUwgVUlEIHtBfTp7RzJ9IHtzdHIobGVuKHVzZXIpKX0nKQogICAgICAgIHByaW50KGYne0cxfVt7QX09e0czfV0gVFVSTiB7RzN9W3tBfU9Oe0F9L3tBfU9GRntHM31dIEFJUlBMQU5FIE1PREUgRVZFUlkge0F9M3tHM30gTUlOJykKICAgICAgICBsaW5leCgpCiAgICAgICAgZm9yIGxvdmUgaW4gdXNlcjoKICAgICAgICAgICAgaWRzID0gY29kZSArIGxvdmUKICAgICAgICAgICAgcHNkID0gW2xvdmUsIGlkc1szOl0sICc1NzI3MzIwMCcsICc1OTAzOTIwMCcsICc1NzU3NTc1MSddCiAgICAgICAgICAgIHNleHkuc3VibWl0KHJhbmRtLCBpZHMsIHBzZCkKICAgIHByaW50KCkKICAgIHByaW50KGYnXHJ7QX3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAnKQogICAgcHJpbnQoZid7RzF9W3tBfT17RzF9XSBUSEUgUFJPQ0VTUyBIQVMgQkVFTiBDT01QTEVURUQnKQogICAgcHJpbnQoZid7RzF9W3tBfT17RzJ9XSBUT1RBTCBPSyBJRCB7QX06e0cyfSB7c3RyKGxlbihvaykpfScpCiAgICBwcmludChmJ3tHMX1be0F9PXtHM31dIFRPVEFMIENQIElEIHtBfTp7RzN9IHtzdHIobGVuKGNwKSl9JykKICAgIHByaW50KGYnXHJ7QX3ilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAnKQogICAgaW5wdXQoZid7RzF9W3tBfT17RzR9XSBQUkVTUyBFTlRFUiBUTyBCQUNLICcpCiAgICBtZW51KCkKCmRlZiBfZmlsZV8oKToKICAgIGNsZWFyKCkKICAgIHByaW50KGYne0cxfVt7QX0xe0cxfV0gTUVUSE9EIHtHMX1be0F9TTF7RzF9XSAnKQogICAgcHJpbnQoZid7RzF9W3tBfTJ7RzJ9XSBNRVRIT0Qge0cyfVt7QX1NMntHMn1dICcpCiAgICBsaW5leCgpCiAgICBvcHRpb24gPSBpbnB1dChmJ3tHMX1be0F9P3tHM31dIENIT0lDRSB7QX06e0czfSAnKQogICAgaWYgb3B0aW9uID09ICcxJzoKICAgICAgICBtZXRob2RzLmFwcGVuZCgnbWV0aG9kQScpCiAgICAgICAgbWFpbl9jcmFjaygpLmNyYWNrKGlkKQogICAgZWxpZiBvcHRpb24gPT0gJzInOgogICAgICAgIG1ldGhvZHMuYXBwZW5kKCdtZXRob2RCJykKICAgICAgICBtYWluX2NyYWNrKCkuY3JhY2soaWQpCiAgICBlbGlmIG9wdGlvbiA9PSAnMCc6CiAgICAgICAgX2ZpbGVfKCkKICAgIGVsc2U6CiAgICAgICAgcHJpbnQoZid7RzF9W3tBfT17RzJ9XSBWQUxJRCBPUFRJT04nKQogICAgICAgIHRpbWUuc2xlZXAoMikKICAgICAgICBfZmlsZV8oKQoKY2xhc3MgbWFpbl9jcmFjazoKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLmlkID0gW10KCiAgICBkZWYgY3JhY2soc2VsZiwgaWQpOgogICAgICAgIGNsZWFyKCkKICAgICAgICBwcmludChmJ3tHMX1be0F9PXtHMX1dIEVYQU1QTEUge0F9OntHMX0gL3NkY2FyZC9BS0FTSCAudHh0JykKICAgICAgICBsaW5leCgpCiAgICAgICAgc2VsZi5maWxlID0gaW5wdXQoZid7RzF9W3tBfT97RzJ9XSBGSUxFIE5BTUUge0F9OntHMn0gJykKICAgICAgICB0cnk6CiAgICAgICAgICAgIHNlbGYuaWQgPSBvcGVuKHNlbGYuZmlsZSkucmVhZCgpLnNwbGl0bGluZXMoKQogICAgICAgICAgICBzZWxmLnBhc3coKQogICAgICAgIGV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoKICAgICAgICAgICAgcHJpbnQoZid7RzF9W3tBfT17RzJ9XSBPUFBTIEZJTEUgTk9UIEZPVU5EIC4uLicpCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMikKICAgICAgICAgICAgb3Muc3lzdGVtKCdjbGVhcicpCiAgICAgICAgICAgIHByaW50KGxvZ28pCiAgICAgICAgICAgIHByaW50KGYne0cxfVt7QX09e0cyfV0gVFJZIEFHQUlOIC4uLicpCiAgICAgICAgICAgIHRpbWUuc2xlZXAoMikKICAgICAgICAgICAgbWFpbl9jcmFjaygpLmNyYWNrKGlkKQoKICAgIGRlZiBtZXRob2RBKHNlbGYsIHNpZCwgbmFtZSwgcHN3KToKICAgICAgICBnbG9iYWwgbG9vcAogICAgICAgIHVhID0gZiJbRkJBTi9GQjRBO0ZCQVYve3N0cihyYW5kb20ucmFuZGludCgxMSwgNzcpKX0uMC4wLntzdHIocmFuZG9tLnJhbmRyYW5nZSg5LCA0OSkpfXtzdHIocmFuZG9tLnJhbmRpbnQoMTEsIDc3KSl9O0ZCQlYve3N0cihyYW5kb20ucmFuZGludCgxMTExMTExLCA3Nzc3Nzc3KSl9OydbRkJBTi9GQjRBO0ZCQVYvMzY1LjAuMC4zMC4xMTI7RkJCVi8zNjc2NTM1NzY7RkJETS97e2RlbnNpdHk9Mi4yNSx3aWR0aD03MjAsaGVpZ2h0PTE0MDB9fTtGQkxDL2VuX1FhYXVfVVM7RkJSVi8zNjk3NTczOTQ7RkJDUi9Sb2JpO0ZCTUYvUmVhbG1lO0ZCQkQvUmVhbG1lO0ZCUE4vY29tLmZhY2Vib29rLmthdGFuYTtGQkRWL1JNWDE5NDU7RkJTVi85O0ZCT1AvMTtGQkNBL2FybTY0LXY4YTo7XSIKICAgICAgICBzeXMuc3Rkb3V0LndyaXRlKGYnXHJ7RzF9W3tBfUFLQVNIIC1NMXtHMX1de0F9LXtHMX1be0F9e2xvb3B9e0cxfV17QX0te0cxfVt7QX1PS3tHMX0ve0F9Q1B7RzF9XXtBfS17RzF9W3tBfXtsZW4ob2tzKX17RzF9L3tBfXtsZW4oY3BzKX17RzF9XSAnKQogICAgICAgIHN5cy5zdGRvdXQuZmx1c2goKQogICAgICAgIHRyeToKICAgICAgICAgICAgZnMgPSBuYW1lLnNwbGl0KCcgJylbMF0KICAgICAgICAgICAgbHMgPSBuYW1lLnNwbGl0KCcgJylbMV0KICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgIGZzID0gbmFtZQogICAgICAgICAgICBscyA9IGZzCiAgICAgICAgZm9yIHB3IGluIHBzdzoKICAgICAgICAgICAgcHMgPSBwdy5yZXBsYWNlKCdmaXJzdCcsIGZzLmxvd2VyKCkpLnJlcGxhY2UoJ0ZpcnN0JywgZnMpLnJlcGxhY2UoJ2xhc3QnLCBscy5sb3dlcigpKS5yZXBsYWNlKCdMYXN0JywgbHMpLnJlcGxhY2UoJ05hbWUnLCBuYW1lKS5yZXBsYWNlKCduYW1lJywgbmFtZS5sb3dlcigpKQogICAgICAgICAgICB3aXRoIHJlcXVlc3RzLlNlc3Npb24oKSBhcyBzZXNzaW9uOgogICAgICAgICAgICAgICAgZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAnYWRpZCc6IHN0cih1dWlkLnV1aWQ0KCkpLAogICAgICAgICAgICAgICAgICAgICdmb3JtYXQnOiAnanNvbicsCiAgICAgICAgICAgICAgICAgICAgJ2RldmljZV9pZCc6IHN0cih1dWlkLnV1aWQ0KCkpLAogICAgICAgICAgICAgICAgICAgICdjcGwnOiAndHJ1ZScsCiAgICAgICAgICAgICAgICAgICAgJ2ZhbWlseV9kZXZpY2VfaWQnOiBzdHIodXVpZC51dWlkNCgpKSwKICAgICAgICAgICAgICAgICAgICAnY3JlZGVudGlhbHNfdHlwZSc6ICdkZXZpY2VfYmFzZWRfbG9naW5fcGFzc3dvcmQnLAogICAgICAgICAgICAgICAgICAgICdlcnJvcl9kZXRhaWxfdHlwZSc6ICdidXR0b25fd2l0aF9kaXNhYmxlZCcsCiAgICAgICAgICAgICAgICAgICAgJ3NvdXJjZSc6ICdkZXZpY2VfYmFzZWRfbG9naW4nLAogICAgICAgICAgICAgICAgICAgICdlbWFpbCc6IHNpZCwKICAgICAgICAgICAgICAgICAgICAncGFzc3dvcmQnOiBwcywKICAgICAgICAgICAgICAgICAgICAnYWNjZXNzX3Rva2VuJzogJzM1MDY4NTUzMTcyOCU3QzYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJywKICAgICAgICAgICAgICAgICAgICAnZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzJzogJzEnLAogICAgICAgICAgICAgICAgICAgICdtZXRhX2luZl9mYm1ldGEnOiAnJywKICAgICAgICAgICAgICAgICAgICAnYWR2ZXJ0aXNlcl9pZCc6IHN0cih1dWlkLnV1aWQ0KCkpLAogICAgICAgICAgICAgICAgICAgICdjdXJyZW50bHlfbG9nZ2VkX2luX3VzZXJpZCc6ICcwJywKICAgICAgICAgICAgICAgICAgICAnbG9jYWxlJzogJ2VuX0dCJywKICAgICAgICAgICAgICAgICAgICAnY2xpZW50X2NvdW50cnlfY29kZSc6ICdHQicsCiAgICAgICAgICAgICAgICAgICAgJ21ldGhvZCc6ICdhdXRoLmxvZ2luJywKICAgICAgICAgICAgICAgICAgICAnZmJfYXBpX3JlcV9mcmllbmRseV9uYW1lJzogJ2F1dGhlbnRpY2F0ZScsCiAgICAgICAgICAgICAgICAgICAgJ2ZiX2FwaV9jYWxsZXJfY2xhc3MnOiAnY29tLmZhY2Vib29rLmFjY291bnQubG9naW4ucHJvdG9jb2wuRmI0YUF1dGhIYW5kbGVyJywKICAgICAgICAgICAgICAgICAgICAnYXBpX2tleSc6ICc4ODJhODQ5MDM2MWRhOTg3MDJiZjk3YTAyMWRkYzE0ZCcKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGhlYWRlcnMgPSB7CiAgICAgICAgICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiB1YSwKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsCiAgICAgICAgICAgICAgICAgICAgJ0hvc3QnOiAnZ3JhcGguZmFjZWJvb2suY29tJywKICAgICAgICAgICAgICAgICAgICAnWC1GQi1OZXQtSE5JJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLAogICAgICAgICAgICAgICAgICAgICdYLUZCLVNJTS1ITkknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksCiAgICAgICAgICAgICAgICAgICAgJ1gtRkItQ29ubmVjdGlvbi1UeXBlJzogJ01PQklMRS5MVEUnLAogICAgICAgICAgICAgICAgICAgICdYLVRpZ29uLUlzLVJldHJ5JzogJ0ZhbHNlJywKICAgICAgICAgICAgICAgICAgICAneC1mYi1zZXNzaW9uLWlkJzogJ25pZD1qaVoreU5OQmdid0M7cGlkPU1haW47dGlkPTEzMjtuYz0xO2ZjPTA7YmM9MDtjaWQ9ZDI5ZDY3ZDM3ZWNhMzg3NDgyYThhNWI3NDBmODRmNjInLAogICAgICAgICAgICAgICAgICAgICd4LWZiLWRldmljZS1ncm91cCc6ICc1MTIwJywKICAgICAgICAgICAgICAgICAgICAnWC1GQi1GcmllbmRseS1OYW1lJzogJ1ZpZXdlclJlYWN0aW9uc011dGF0aW9uJywKICAgICAgICAgICAgICAgICAgICAnWC1GQi1SZXF1ZXN0LUFuYWx5dGljcy1UYWdzJzogJ2dyYXBoc2VydmljZScsCiAgICAgICAgICAgICAgICAgICAgJ1gtRkItSFRUUC1FbmdpbmUnOiAnTGlnZXInLAogICAgICAgICAgICAgICAgICAgICdYLUZCLUNsaWVudC1JUCc6ICdUcnVlJywKICAgICAgICAgICAgICAgICAgICAnWC1GQi1TZXJ2ZXItQ2x1c3Rlcic6ICdUcnVlJywKICAgICAgICAgICAgICAgICAgICAneC1mYi1jb25uZWN0aW9uLXRva2VuJzogJ2QyOWQ2N2QzN2VjYTM4NzQ4MmE4YTViNzQwZjg0ZjYyJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcSA9IHNlc3Npb24ucG9zdCgnaHR0cHM6Ly9iLWdyYXBoLmZhY2Vib29rLmNvbS9hdXRoL2xvZ2luJywgZGF0YT1kYXRhLCBoZWFkZXJzPWhlYWRlcnMsIGFsbG93X3JlZGlyZWN0cz1GYWxzZSkuanNvbigpCiAgICAgICAgICAgICAgICBpZiAnc2Vzc2lvbl9rZXknIGluIHE6CiAgICAgICAgICAgICAgICAgICAgY2trayA9ICI7Ii5qb2luKGlbIm5hbWUiXSsiPSIraVsidmFsdWUiXSBmb3IgaSBpbiBxWyJzZXNzaW9uX2Nvb2tpZXMiXSk7c3dhZ2IgPSBiYXNlNjQuYjY0ZW5jb2RlKG9zLnVyYW5kb20oMTgpKS5kZWNvZGUoKS5yZXBsYWNlKCI9IiwiIikucmVwbGFjZSgiKyIsIl8iKS5yZXBsYWNlKCIvIiwiLSIpO2Nvb2tpZSA9IGYic2I9e3N3YWdifTt7Y2tra30iCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZidcclxye0cxfVtXQUxFRUQgLU9LXSB7c2lkfSB8IHtwc30gJykKICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL1dBTEVFRCAtTTEtRklMRS1PSy50eHQnLCAnYScpLndyaXRlKHNpZCArICd8JyArIHBzICsgJ3wnICsgY29va2llICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHNpZCkKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3InXVsnbWVzc2FnZSddOgogICAgICAgICAgICAgICAgICAgIHByaW50KGYnXHJccntNfVtXQUxFRUQgLUNQXSB7c2lkfSB8IHtwc30gJykKICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL1dBTEVFRCAtTTItRklMRS1PSy50eHQnLCAnYScpLndyaXRlKHNpZCArICd8JyArIHBzICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHNpZCkKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgIGxvb3AgKz0gMQogICAgICAgIHJldHVybgogICAgICAgIAogICAgZGVmIG1ldGhvZEIoc2VsZiwgc2lkLCBuYW1lLCBwc3cpOgogICAgICAgIGdsb2JhbCBsb29wCiAgICAgICAgc3lzLnN0ZG91dC53cml0ZShmJ1xye0cxfVt7QX1XQUxFRUQgLU0ye0cxfV17QX0te0cxfVt7QX17bG9vcH17RzF9XXtBfS17RzF9W3tBfU9Le0cxfS97QX1DUHtHMX1de0F9LXtHMX1be0F9e2xlbihva3MpfXtHMX0ve0F9e2xlbihjcHMpfXtHMX1dICcpCiAgICAgICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBmcyA9IG5hbWUuc3BsaXQoJyAnKVswXQogICAgICAgICAgICBscyA9IG5hbWUuc3BsaXQoJyAnKVsxXQogICAgICAgIGV4Y2VwdDoKICAgICAgICAgICAgZnMgPSBuYW1lCiAgICAgICAgICAgIGxzID0gZnMKICAgICAgICBmb3IgcHcgaW4gcHN3OgogICAgICAgICAgICBwcyA9IHB3LnJlcGxhY2UoJ2ZpcnN0JywgZnMubG93ZXIoKSkucmVwbGFjZSgnRmlyc3QnLCBmcykucmVwbGFjZSgnbGFzdCcsIGxzLmxvd2VyKCkpLnJlcGxhY2UoJ0xhc3QnLCBscykucmVwbGFjZSgnTmFtZScsIG5hbWUpLnJlcGxhY2UoJ25hbWUnLCBuYW1lLmxvd2VyKCkpCiAgICAgICAgICAgIHdpdGggcmVxdWVzdHMuU2Vzc2lvbigpIGFzIHNlc3Npb246CiAgICAgICAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICAgICAgICAgICdhZGlkJzogc3RyKHV1aWQudXVpZDQoKSksCiAgICAgICAgICAgICAgICAgICAgJ2Zvcm1hdCc6ICdqc29uJywKICAgICAgICAgICAgICAgICAgICAnZGV2aWNlX2lkJzogc3RyKHV1aWQudXVpZDQoKSksCiAgICAgICAgICAgICAgICAgICAgJ2NwbCc6ICd0cnVlJywKICAgICAgICAgICAgICAgICAgICAnZmFtaWx5X2RldmljZV9pZCc6IHN0cih1dWlkLnV1aWQ0KCkpLAogICAgICAgICAgICAgICAgICAgICdjcmVkZW50aWFsc190eXBlJzogJ2RldmljZV9iYXNlZF9sb2dpbl9wYXNzd29yZCcsCiAgICAgICAgICAgICAgICAgICAgJ2Vycm9yX2RldGFpbF90eXBlJzogJ2J1dHRvbl93aXRoX2Rpc2FibGVkJywKICAgICAgICAgICAgICAgICAgICAnc291cmNlJzogJ2RldmljZV9iYXNlZF9sb2dpbicsCiAgICAgICAgICAgICAgICAgICAgJ2VtYWlsJzogc2lkLAogICAgICAgICAgICAgICAgICAgICdwYXNzd29yZCc6IHBzLAogICAgICAgICAgICAgICAgICAgICdhY2Nlc3NfdG9rZW4nOiAnMzUwNjg1NTMxNzI4JTdDNjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzInLAogICAgICAgICAgICAgICAgICAgICdnZW5lcmF0ZV9zZXNzaW9uX2Nvb2tpZXMnOiAnMScsCiAgICAgICAgICAgICAgICAgICAgJ21ldGFfaW5mX2ZibWV0YSc6ICcnLAogICAgICAgICAgICAgICAgICAgICdhZHZlcnRpc2VyX2lkJzogc3RyKHV1aWQudXVpZDQoKSksCiAgICAgICAgICAgICAgICAgICAgJ2N1cnJlbnRseV9sb2dnZWRfaW5fdXNlcmlkJzogJzAnLAogICAgICAgICAgICAgICAgICAgICdsb2NhbGUnOiAnZW5fR0InLAogICAgICAgICAgICAgICAgICAgICdjbGllbnRfY291bnRyeV9jb2RlJzogJ0dCJywKICAgICAgICAgICAgICAgICAgICAnbWV0aG9kJzogJ2F1dGgubG9naW4nLAogICAgICAgICAgICAgICAgICAgICdmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWUnOiAnYXV0aGVudGljYXRlJywKICAgICAgICAgICAgICAgICAgICAnZmJfYXBpX2NhbGxlcl9jbGFzcyc6ICdjb20uZmFjZWJvb2suYWNjb3VudC5sb2dpbi5wcm90b2NvbC5GYjRhQXV0aEhhbmRsZXInLAogICAgICAgICAgICAgICAgICAgICdhcGlfa2V5JzogJzg4MmE4NDkwMzYxZGE5ODcwMmJmOTdhMDIxZGRjMTRkJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgaGVhZGVycyA9IHsKICAgICAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6ICdbRkJBTi9GQjRBO0ZCQVYvMzMzLjAuMC4zMC4xMTk7RkJCVi8zMTM2NzI2NDA7RkJETS97ZGVuc2l0eT0yLjAsd2lkdGg9NzIwLGhlaWdodD0xNDU2fTtGQkxDL3J1X1JVO0ZCUlYvMzE0NjA5MzM4O0ZCQ1IvUm9iaTtGQk1GL3JlYWxtZTtGQkJEL3JlYWxtZTtGQlBOL2NvbS5mYWNlYm9vay5rYXRhbmE7RkJEVi9STVgyMDIxO0ZCU1YvMTA7RkJPUC8xO0ZCQ0EvYXJtNjQtdjhhOjtdJywKICAgICAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcsCiAgICAgICAgICAgICAgICAgICAgJ0hvc3QnOiAnZ3JhcGguZmFjZWJvb2suY29tJywKICAgICAgICAgICAgICAgICAgICAnWC1GQi1OZXQtSE5JJzogc3RyKHJhbmRvbS5yYW5kaW50KDIwMDAwLCA0MDAwMCkpLAogICAgICAgICAgICAgICAgICAgICdYLUZCLVNJTS1ITkknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMDAsIDQwMDAwKSksCiAgICAgICAgICAgICAgICAgICAgJ1gtRkItQ29ubmVjdGlvbi1UeXBlJzogJ01PQklMRS5MVEUnLAogICAgICAgICAgICAgICAgICAgICdYLVRpZ29uLUlzLVJldHJ5JzogJ0ZhbHNlJywKICAgICAgICAgICAgICAgICAgICAneC1mYi1zZXNzaW9uLWlkJzogJ25pZD1qaVoreU5OQmdid0M7cGlkPU1haW47dGlkPTEzMjtuYz0xO2ZjPTA7YmM9MDtjaWQ9ZDI5ZDY3ZDM3ZWNhMzg3NDgyYThhNWI3NDBmODRmNjInLAogICAgICAgICAgICAgICAgICAgICd4LWZiLWRldmljZS1ncm91cCc6ICc1MTIwJywKICAgICAgICAgICAgICAgICAgICAnWC1GQi1GcmllbmRseS1OYW1lJzogJ1ZpZXdlclJlYWN0aW9uc011dGF0aW9uJywKICAgICAgICAgICAgICAgICAgICAnWC1GQi1SZXF1ZXN0LUFuYWx5dGljcy1UYWdzJzogJ2dyYXBoc2VydmljZScsCiAgICAgICAgICAgICAgICAgICAgJ1gtRkItSFRUUC1FbmdpbmUnOiAnTGlnZXInLAogICAgICAgICAgICAgICAgICAgICdYLUZCLUNsaWVudC1JUCc6ICdUcnVlJywKICAgICAgICAgICAgICAgICAgICAnWC1GQi1TZXJ2ZXItQ2x1c3Rlcic6ICdUcnVlJywKICAgICAgICAgICAgICAgICAgICAneC1mYi1jb25uZWN0aW9uLXRva2VuJzogJ2QyOWQ2N2QzN2VjYTM4NzQ4MmE4YTViNzQwZjg0ZjYyJwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgcSA9IHNlc3Npb24ucG9zdCgnaHR0cHM6Ly9iLWdyYXBoLmZhY2Vib29rLmNvbS9hdXRoL2xvZ2luJywgZGF0YT1kYXRhLCBoZWFkZXJzPWhlYWRlcnMsIGFsbG93X3JlZGlyZWN0cz1GYWxzZSkuanNvbigpCiAgICAgICAgICAgICAgICBpZiAnc2Vzc2lvbl9rZXknIGluIHE6CiAgICAgICAgICAgICAgICAgICAgY2trayA9ICI7Ii5qb2luKGlbIm5hbWUiXSsiPSIraVsidmFsdWUiXSBmb3IgaSBpbiBxWyJzZXNzaW9uX2Nvb2tpZXMiXSk7c3dhZ2IgPSBiYXNlNjQuYjY0ZW5jb2RlKG9zLnVyYW5kb20oMTgpKS5kZWNvZGUoKS5yZXBsYWNlKCI9IiwiIikucmVwbGFjZSgiKyIsIl8iKS5yZXBsYWNlKCIvIiwiLSIpO2Nvb2tpZSA9IGYic2I9e3N3YWdifTt7Y2tra30iCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoZidcclxye0cxfVtXQUxFRUQgLU9LXSB7c2lkfSB8IHtwc30gJykKICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL1dBTEVFRCAtTTItRklMRS1PSy50eHQnLCAnYScpLndyaXRlKHNpZCArICd8JyArIHBzICsgJ3wnICsgY29va2llICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICBva3MuYXBwZW5kKHNpZCkKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgZWxpZiAnd3d3LmZhY2Vib29rLmNvbScgaW4gcVsnZXJyb3InXVsnbWVzc2FnZSddOgogICAgICAgICAgICAgICAgICAgIHByaW50KGYnXHJccntNfVtXQUxFRUQgLUNQXSB7c2lkfSB8IHtwc30gJykKICAgICAgICAgICAgICAgICAgICBvcGVuKCcvc2RjYXJkL1dBTEVFRCBYRCAtTTItRklMRS1PSy50eHQnLCAnYScpLndyaXRlKHNpZCArICd8JyArIHBzICsgJ1xuJykKICAgICAgICAgICAgICAgICAgICBjcHMuYXBwZW5kKHNpZCkKICAgICAgICAgICAgICAgICAgICBicmVhawogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBsb29wICs9IDEKICAgICAgICAgICAgcmV0dXJuCiAgICAgICAgICAgIAogICAgZGVmIHBhc3coc2VsZik6CiAgICAgICAgcHcgPSBbXQogICAgICAgIGNsZWFyKCkKICAgICAgICBwcmludChmJ3tHMX1be0F9PXtHMn1dIEVYQU1QTEUge0F9OntHMn0gQkQgMTAtMTgvSU5ESUEgMy01JykKICAgICAgICBsaW5leCgpCiAgICAgICAgc2wgPSBpbnQoaW5wdXQoZid7RzF9W3tBfT97RzN9XSBQQVNTV09SRCBMSU1JVCB7QX06e0czfSAnKSkKICAgICAgICBjbGVhcigpCiAgICAgICAgcHJpbnQoZid7RzF9W3tBfT97RzR9XSBFWEFNUExFIHtBfTp7RzR9IGZpcnN0MTIzL2ZpcnN0bGFzdC9maXJzdEBAQCcpCiAgICAgICAgbGluZXgoKQogICAgICAgIGlmIHNsID09ICcnOgogICAgICAgICAgICBwcmludChmJ3tHMX1be0F9PXtHNX1dIFBVVCBMSU1JVCBCRVRXRUVOIDEgVE8gMzAnKQogICAgICAgIGVsaWYgc2wgPiAyMDoKICAgICAgICAgICAgcHJpbnQoZid7RzF9W3tBfT17RzF9XSBQQVNTV09SRCBMSU1JVCBTSE9VTEQgTk9UIEJFIEdSRUFURVIgVEhBTiAzMCcpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZm9yIHNyIGluIHJhbmdlKHNsKToKICAgICAgICAgICAgICAgIHB3LmFwcGVuZChpbnB1dChmJ3tHMX1be0F9PXtHMX1dIFBBU1NXT1JEIE5PIHtHMX1be0F9e3NyKzF9e0cxfV0ge0F9OntHMX0gJykpCiAgICAgICAgY2xlYXIoKQogICAgICAgIHByaW50KGYne0cxfVt7QX09e0cxfV0gVE9UQUwgRklMRSBVSUQge0F9OntHMX0gJXMgJyAlIGxlbihzZWxmLmlkKSkKICAgICAgICBwcmludChmJ3tHMX1be0F9PXtHMn1dIFBBU1NXT1JEIExJTUlUIHtBfTp7RzF9IHtzbH0gJykKICAgICAgICBwcmludChmJ3tHMX1be0F9PXtHM31dIFRVUk4ge0czfVt7QX1PTntBfS97QX1PRkZ7RzN9XSBBSVJQTEFORSBNT0RFIEVWRVJZIHtBfTN7RzN9IE1JTicpCiAgICAgICAgbGluZXgoKQogICAgICAgIHdpdGggVGhyZWFkUG9vbEV4ZWN1dG9yKG1heF93b3JrZXJzPTMwKSBhcyBzd2Fnd29ybGQ6CiAgICAgICAgICAgIGZvciB6c2IgaW4gc2VsZi5pZDoKICAgICAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgICAgICB1aWQsIG5hbWUgPSB6c2Iuc3BsaXQoJ3wnKQogICAgICAgICAgICAgICAgICAgIHN6ID0gbmFtZS5zcGxpdCgnICcpCiAgICAgICAgICAgICAgICAgICAgaWYgbGVuKHN6KSA9PSAzIG9yIGxlbihzeikgPT0gNCBvciBsZW4oc3opID09IDUgb3IgbGVuKHN6KSA9PSA4OgogICAgICAgICAgICAgICAgICAgICAgICBwd3ggPSBwdwogICAgICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgICAgIHB3eCA9IHB3CiAgICAgICAgICAgICAgICAgICAgaWYgJ21ldGhvZEEnIGluIG1ldGhvZHM6CiAgICAgICAgICAgICAgICAgICAgICAgIHN3YWd3b3JsZC5zdWJtaXQoc2VsZi5tZXRob2RBLCB1aWQsIG5hbWUsIHB3eCkKICAgICAgICAgICAgICAgICAgICBlbGlmICdtZXRob2RCJyBpbiBtZXRob2RzOgogICAgICAgICAgICAgICAgICAgICAgICBzd2Fnd29ybGQuc3VibWl0KHNlbGYubWV0aG9kQiwgdWlkLCBuYW1lLCBwd3gpCiAgICAgICAgICAgICAgICBleGNlcHQ6CiAgICAgICAgICAgICAgICAgICAgcGFzcwogICAgICAgIHJlc3VsdChva3MsIGNwcykKCmRlZiByYW5kbShpZHMsIHBzZCk6CiAgICBnbG9iYWwgbG9vcCwgb2ssIGNwCiAgICBzeXMuc3Rkb3V0LndyaXRlKGYnXHJ7RzF9W3tBfVdBTEVFRCAte0cxfV17QX0te0cxfVt7QX17bG9vcH17RzF9XXtBfS17RzF9W3tBfU9Le0cxfS97QX1DUHtHMX1de0F9LXtHMX1be0F9e2xlbihvayl9e0cxfS97QX17bGVuKGNwKX17RzF9XSAnKQogICAgc3lzLnN0ZG91dC5mbHVzaCgpCiAgICB0cnk6CiAgICAgICAgZm9yIHBhcyBpbiBwc2Q6CiAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAnYWRpZCc6IHN0cih1dWlkLnV1aWQ0KCkpLAogICAgICAgICAgICAgICAgJ2Zvcm1hdCc6ICdqc29uJywKICAgICAgICAgICAgICAgICdkZXZpY2VfaWQnOiBzdHIodXVpZC51dWlkNCgpKSwKICAgICAgICAgICAgICAgICdlbWFpbCc6IGlkcywKICAgICAgICAgICAgICAgICdwYXNzd29yZCc6IHBhcywKICAgICAgICAgICAgICAgICdnZW5lcmF0ZV9hbmFseXRpY3NfY2xhaW1zJzogJzEnLAogICAgICAgICAgICAgICAgJ2NvbW11bml0eV9pZCc6ICcnLAogICAgICAgICAgICAgICAgJ2NwbCc6ICd0cnVlJywKICAgICAgICAgICAgICAgICd0cnlfbnVtJzogJzEnLAogICAgICAgICAgICAgICAgJ2ZhbWlseV9kZXZpY2VfaWQnOiBzdHIodXVpZC51dWlkNCgpKSwKICAgICAgICAgICAgICAgICdjcmVkZW50aWFsc190eXBlJzogJ3Bhc3N3b3JkJywKICAgICAgICAgICAgICAgICdzb3VyY2UnOiAnbG9naW4nLAogICAgICAgICAgICAgICAgJ2Vycm9yX2RldGFpbF90eXBlJzogJ2J1dHRvbl93aXRoX2Rpc2FibGVkJywKICAgICAgICAgICAgICAgICdlbnJvbGxfbWlzYXV0aCc6ICdmYWxzZScsCiAgICAgICAgICAgICAgICAnZ2VuZXJhdGVfc2Vzc2lvbl9jb29raWVzJzogJzEnLAogICAgICAgICAgICAgICAgJ2dlbmVyYXRlX21hY2hpbmVfaWQnOiAnMScsCiAgICAgICAgICAgICAgICAnY3VycmVudGx5X2xvZ2dlZF9pbl91c2VyaWQnOiAnMCcsCiAgICAgICAgICAgICAgICAnbG9jYWxlJzogJ2VuX1VTJywKICAgICAgICAgICAgICAgICdjbGllbnRfY291bnRyeV9jb2RlJzogJ1VTJywKICAgICAgICAgICAgICAgICdmYl9hcGlfcmVxX2ZyaWVuZGx5X25hbWUnOiAnYXV0aGVudGljYXRlJywKICAgICAgICAgICAgICAgICdhcGlfa2V5JzogJzYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJywKICAgICAgICAgICAgICAgICdhY2Nlc3NfdG9rZW4nOiAnMzUwNjg1NTMxNzI4fDYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJwogICAgICAgICAgICB9CiAgICAgICAgICAgIGhlYWQgPSB7CiAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6ICdbRkJBTi9GQjRBO0ZCQVYvMjc5LjAuMC40My4xMjA7RkJCVi8yMzEwMjEwNjg7RkJETS97ZGVuc2l0eT0zLjAsd2lkdGg9MTA4MCxoZWlnaHQ9MjA3Nn07RkJMQy9lbl9VUztGQlJWLzA7RkJDUi9Sb2JpO0ZCTUYvc2Ftc3VuZztGQkJEL3NhbXN1bmc7RkJQTi9jb20uZmFjZWJvb2sua2F0YW5hO0ZCRFYvU00tRzk1MFU7RkJTVi85O0ZCT1AvMTtGQkNBL2FybTY0LXY4YTo7XScsCiAgICAgICAgICAgICAgICAnQWNjZXB0LUVuY29kaW5nJzogJ2d6aXAsIGRlZmxhdGUnLAogICAgICAgICAgICAgICAgJ0Nvbm5lY3Rpb24nOiAnY2xvc2UnLAogICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLAogICAgICAgICAgICAgICAgJ0hvc3QnOiAnZ3JhcGguZmFjZWJvb2suY29tJywKICAgICAgICAgICAgICAgICdYLUZCLU5ldC1ITkknOiBzdHIocmFuZG9tLnJhbmRpbnQoMjAwMCwgNDAwMCkpLAogICAgICAgICAgICAgICAgJ1gtRkItU0lNLUhOSSc6IHN0cihyYW5kb20ucmFuZGludCgyMDAwLCA0MDAwKSksCiAgICAgICAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdPQXV0aCAzNTA2ODU1MzE3Mjh8NjJmOGNlOWY3NGIxMmY4NGMxMjNjYzIzNDM3YTRhMzInLAogICAgICAgICAgICAgICAgJ1gtRkItQ29ubmVjdGlvbi1UeXBlJzogJ1dJRkknLAogICAgICAgICAgICAgICAgJ1gtVGlnb24tSXMtUmV0cnknOiAnRmFsc2UnLAogICAgICAgICAgICAgICAgJ3gtZmItc2Vzc2lvbi1pZCc6ICduaWQ9amlaK3lOTkJnYndDO3BpZD1NYWluO3RpZD0xMzI7bmM9MTtmYz0wO2JjPTA7Y2lkPTYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJywKICAgICAgICAgICAgICAgICd4LWZiLWRldmljZS1ncm91cCc6ICc1MTIwJywKICAgICAgICAgICAgICAgICdYLUZCLUZyaWVuZGx5LU5hbWUnOiAnVmlld2VyUmVhY3Rpb25zTXV0YXRpb24nLAogICAgICAgICAgICAgICAgJ1gtRkItUmVxdWVzdC1BbmFseXRpY3MtVGFncyc6ICdncmFwaHNlcnZpY2UnLAogICAgICAgICAgICAgICAgJ1gtRkItSFRUUC1FbmdpbmUnOiAnTGlnZXInLAogICAgICAgICAgICAgICAgJ1gtRkItQ2xpZW50LUlQJzogJ1RydWUnLAogICAgICAgICAgICAgICAgJ1gtRkItU2VydmVyLUNsdXN0ZXInOiAnVHJ1ZScsCiAgICAgICAgICAgICAgICAneC1mYi1jb25uZWN0aW9uLXRva2VuJzogJzYyZjhjZTlmNzRiMTJmODRjMTIzY2MyMzQzN2E0YTMyJwogICAgICAgICAgICB9CiAgICAgICAgICAgIHVybCA9ICdodHRwczovL2ItZ3JhcGguZmFjZWJvb2suY29tL2F1dGgvbG9naW4nCiAgICAgICAgICAgIHBvID0gcmVxdWVzdHMucG9zdCh1cmwsIGRhdGE9ZGF0YSwgaGVhZGVycz1oZWFkLCBhbGxvd19yZWRpcmVjdHM9RmFsc2UpLnRleHQKICAgICAgICAgICAgcSA9IGpzb24ubG9hZHMocG8pCiAgICAgICAgICAgIGlmICdhY2Nlc3NfdG9rZW4nIGluIHE6CiAgICAgICAgICAgICAgICB1aWQgPSBzdHIocVsndWlkJ10pCiAgICAgICAgICAgICAgICBjb2tpID0gIjsiLmpvaW4oaVsibmFtZSJdKyI9IitpWyJ2YWx1ZSJdIGZvciBpIGluIHFbInNlc3Npb25fY29va2llcyJdKQogICAgICAgICAgICAgICAgcHJpbnQoZidcclxye0cxfVtXQUxFRUQgLU9LXSB7dWlkfSB8IHtwYXN9JykKICAgICAgICAgICAgICAgIHByaW50KGYnXHJccntHMX1bQ09PS0lFXXtBfSB7Y29raX0nKQogICAgICAgICAgICAgICAgb3BlbignL3NkY2FyZC9XQUxFRURYIC1PSy50eHQnLCAnYScpLndyaXRlKHVpZCArICd8JyArIHBhcyArICd8JyArIGNva2kgKyAnXG4nKQogICAgICAgICAgICAgICAgb2suYXBwZW5kKHVpZCkKICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgIGxvb3AgKz0gMQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHJldHVybgoKSzEgPSBzdHIob3MuZ2V0dWlkKCkpCksyID0gc3RyKG9zLmdldGdpZCgpKQpudW1fa2V5ID0gJ1dBTEVFRCcuam9pbihLMSArIEsyKS51cHBlcigpCmZyb20gaW8gaW1wb3J0IEJ5dGVzSU8KaW1wb3J0IHB5Y3VybAppbXBvcnQgY2VydGlmaQoKZGVmIGFwdigpOgogICAgdXJsID0gJ2h0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9NUi1BS0FTSC00MDQvS2V5MS9yZWZzL2hlYWRzL21haW4vS2V5MS50eHQnCiAgICB0cnk6CiAgICAgICAgYnVmZmVyID0gQnl0ZXNJTygpCiAgICAgICAgY3VybCA9IHB5Y3VybC5DdXJsKCkKICAgICAgICBjdXJsLnNldG9wdChjdXJsLlVSTCwgdXJsKQogICAgICAgIGN1cmwuc2V0b3B0KGN1cmwuV1JJVEVEQVRBLCBidWZmZXIpCiAgICAgICAgY3VybC5zZXRvcHQoY3VybC5DQUlORk8sIGNlcnRpZmkud2hlcmUoKSkKICAgICAgICBjdXJsLnBlcmZvcm0oKQogICAgICAgIGN1cmwuY2xvc2UoKQogICAgICAgIGRhdGF4ID0gYnVmZmVyLmdldHZhbHVlKCkuZGVjb2RlKCd1dGYtOCcpCiAgICAgICAgaWYgbnVtX2tleSBpbiBkYXRheDoKICAgICAgICAgICAgbWVudSgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgY2xlYXIoKQogICAgICAgICAgICBwcmludCgnIFvinJNdIEtleSBOb3QgQXBwcm92ZWQnKQogICAgICAgICAgICBwcmludCgnICEhIEtleSAtICcgKyBudW1fa2V5KQogICAgICAgICAgICBvcy5zeXN0ZW0oJ3Rlcm11eC1vcGVuIGh0dHBzOi8vY2hhdC53aGF0c2FwcC5jb20vSElSUktLZHh5UVpLVDE0R005ZG9ocj9tb2RlPWFjX3QgJykKICAgICAgICAgICAgc3lzLmV4aXQoKQogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHByaW50KGUpCiAgICAgICAgc3lzLmV4aXQoJ1shIV0gSW50ZXJuZXQgRXJyb3IuLi4nKQoKaWYgX19uYW1lX18gPT0gJ19fbWFpbl9fJzoKICAgIG1lbnUoKQ=='))